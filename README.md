


# go-zero 

# 带你 10 天，轻松搞定 Go 微服务 - 商城系统


1. 环境搭建 - docker-compose
2. 服务拆分

用户服务

产品服务

订单服务

支付服务

RPC 服务 Auth 验证

服务监控

链路追踪



1 用户服务（user）
api 服务	端口：8000	    rpc 服务	端口：9000
login	    用户登录接口	login	    用户登录接口
register	用户注册接口	register	用户注册接口
userinfo	用户信息接口	userinfo	用户信息接口
...	...	...	...

2 产品服务（product）
api 服务	端口：8001	  rpc 服务	端口：9001
create	   产品创建接口	  create	产品创建接口
update	   产品修改接口   update	产品修改接口
remove	   产品删除接口	  remove	产品删除接口
detail	   产品详情接口	  detail	产品详情接口
...	...	...	...

3 订单服务（order）
api 服务	端口：8002	    rpc 服务	端口：9002
create	    订单创建接口	create   	订单创建接口
update   	订单修改接口	update	    订单修改接口
remove	    订单删除接口	remove   	订单删除接口
detail   	订单详情接口	detail	    订单详情接口
list	    订单列表接口	list     	订单列表接口
paid	    订单支付接口
...	...	...	...

4 支付服务（pay）
api 服务	端口：8003  	rpc 服务	端口：9003
create   	支付创建接口	create	    支付创建接口
detail	    支付详情接口	detail	    支付详情接口
callback	支付回调接口	callback	支付回调接口
...	...	...	...



微服务拆分并没有统一的标准，相同的业务在不同的公司很可能拆分方式会有所区别，用户规模、团队大小、组员能力等都会是考虑因素。但我们还是有一些基本原则可以遵循：

1. 由粗到细，避免过度拆分，遵循渐进式演进的原则
2. 不同服务之间应该是正交的，不要你中有我我中有你
3. 避免环形依赖，服务依赖关系应该是有向无环图
4. 避免不同服务之间共享同一个数据库

go-zero 也是一个渐进式微服务框架，你可以在业务早期使用单体来快速满足业务，当业务增长并有需要的时候，做最小的改动即可做到渐进式的服务拆分。